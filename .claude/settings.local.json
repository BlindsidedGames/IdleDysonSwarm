{
  "permissions": {
    "allow": [
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git checkout:*)",
      "Bash(git add:*)",
      "mcp__UnityMCP__execute_menu_item",
      "mcp__UnityMCP__read_console",
      "mcp__UnityMCP__refresh_unity",
      "Bash(gh pr list:*)",
      "Bash(gh pr view:*)",
      "Bash(gh repo view:*)",
      "Bash(curl:*)",
      "Bash(git pull:*)",
      "Bash(grep:*)",
      "Bash(gh pr create:*)",
      "mcp__UnityMCP__manage_editor",
      "Bash(git mv:*)",
      "Bash(xargs git rm --cached)",
      "Bash(git fsck:*)",
      "Bash(powershell -Command \"gh pr create --title ''feat: Facility breakdown improvements and cleanup'' --body ''## Summary\n- Enhanced facility breakdown popup with colored output, symbols for operations, and 10Hz auto-refresh\n- Auto-wire breakdown buttons in FacilityPresenter via Transform.Find\n- Remove redundant production text displays \\(Planet Production, Data Center Production, Server Production\\) from GameManager - now shown in Details breakdown\n- Remove tmpclaude temp files from repository\n- Add git safety rule to CLAUDE.md for destructive commands\n- Update Unity MCP skill documentation with refresh wait guidance\n\nGenerated with [Claude Code]\\(https://claude.com/claude-code\\)''\")",
      "Bash(powershell:*)",
      "Bash(\"C:\\\\Program Files\\\\GitHub CLI\\\\gh.exe\" pr create --title \"feat: Facility breakdown improvements and cleanup\" --body \"## Summary\n- Enhanced facility breakdown popup with colored output, symbols for operations, and 10Hz auto-refresh\n- Auto-wire breakdown buttons in FacilityPresenter via Transform.Find\n- Remove redundant production text displays \\(Planet Production, Data Center Production, Server Production\\) from GameManager - now shown in Details breakdown\n- Remove tmpclaude temp files from repository\n- Add git safety rule to CLAUDE.md for destructive commands\n- Update Unity MCP skill documentation with refresh wait guidance\n\nGenerated with [Claude Code]\\(https://claude.com/claude-code\\)\")",
      "Bash(git branch:*)",
      "Bash(git stash:*)",
      "Bash(gh pr edit 20 --body \"$\\(cat <<''EOF''\n## Summary\n\nPhase 2 of the Quantum Leap & Reality Systems Refactor: Create service interfaces and implementations.\n\n- **IQuantumService/QuantumService**: Manages Quantum Points, upgrade purchases \\(one-time unlocks and repeatable\\), cost calculations, and multipliers \\(Cash/Science bonuses\\)\n- **IWorkerService/WorkerService**: Handles worker generation, influence gathering, offline progress, and influence spending\n- **IAvocadoService/AvocadoService**: Cross-system aggregator consuming IP/Influence/Strange Matter, producing Log10-based global production buff\n\n### New Files\n\n| File | Purpose |\n|------|---------|\n| `IQuantumService.cs` | Interface for Quantum Leap system |\n| `QuantumService.cs` | Implementation wrapping Oracle access |\n| `IWorkerService.cs` | Interface for Worker/Influence system |\n| `WorkerService.cs` | Implementation wrapping Oracle access |\n| `IAvocadoService.cs` | Interface for Avocado aggregator |\n| `AvocadoService.cs` | Implementation wrapping Oracle access |\n| `ServiceProvider.cs` | Updated to register new services |\n\n### Benefits\n\n- **Decoupled**: Components can depend on interfaces instead of Oracle singleton\n- **Testable**: Mock implementations can be provided for unit testing\n- **Documented**: Each service has XML documentation explaining purpose and behavior\n- **Type-safe**: Strong typing for upgrade types via `QuantumUpgradeType` enum\n\n### Fix Applied\n\nFixed `WorkerGenerationSpeed` calculation to match existing behavior:\n- `prestigePlus.influence` stores the **already-scaled bonus** \\(each purchase adds +4\\)\n- Removed erroneous multiplication by `InfluenceSpeedPerLevel` that would have caused 4x overcount\n\n## Test plan\n\n- [ ] Code compiles without errors in Unity\n- [ ] Services are registered \\(check Unity console for ServiceProvider logs\\)\n- [ ] Existing functionality unchanged \\(services wrap existing behavior\\)\n- [ ] Save compatibility maintained \\(no data changes\\)\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\nEOF\n\\)\")"
    ]
  }
}
